// Modification for the iCE40UP5k
// Includes nucleus.fs from Mecrisp-Ice
// by IgorM, 11 Dec 2017
// fixes IgorM 11 Jan 2018
// fixes IgorM 29 Jan 2018 - (sliteral) fix
// IgorM 14-Mar-2018 version with 8kB

wire [15:0] insn0, insn1;
reg [15:0] insn;

  RAM2048x2 #(
    .INITVAL_0("0xb5300f47df9b8224767717b5ef506f6f52f243bdb6324f67f252d3a7427a4a1a"),
    .INITVAL_1("0x3b92dd90a698c3c397628142a7c3979a088a67e64199111185670e0c3e7d5b81"),
    .INITVAL_2("0xba724ece895f1b1d864c20c5025660ca484b2f0acbe810f0508c465b9c552ab7"),
    .INITVAL_3("0x956711c4a0e2dca7c85541e0a797568638c5074a37a24e6f268688888a4281c2"),
    .INITVAL_4("0x030a231ad3c382c270f381c341412a4a608a51c90b4a623a79190b0ac3c0054b"),
    .INITVAL_5("0x5100520243e2cbab40320338899ac39b4880a2c82b5a7138191801291aca1a80"),
    .INITVAL_6("0xa3a9820a2aa048c880db81ea0a3802e302a000280b630a41c0dba8e35383f0e2"),
    .INITVAL_7("0x5a6283a3e8aa0213784829434048a2b0bbc23202d0900a0ab8a192ca2b3b4bcb"),
    .INITVAL_8("0x301d0a5b426a606a5a5271182903133b5b23082a280383834243480039494039"),
    .INITVAL_9("0x89c90448dbf75557694e90995b12c8263a1760431816d09afab221cbf8da5217"),
    .INITVAL_A("0xcd3be1bd0c45031f6a81cec9b2e8264938c109ff98835e419189643dc08fc1ed"),
    .INITVAL_B("0x101b07878d89aa729381a6e62dcfcdc5c48d6e0b01d13985d86dc8eb80e9092a"),
    .INITVAL_C("0x0c385545211d47c327024c359d7c863908ac8d03b8248569243181912c3c828f"),
    .INITVAL_D("0xb494e5c3a70c596d432eb3833ae621a526155bd310920059424e442718982725"),
    .INITVAL_E("0x2d6617527672262234770c0dc3d286e6377faaba5ecf5ecf096c1fbf6ff648d2"),
    .INITVAL_F("0x4d71527d0543191526217b1d2f5d05256c5d4c140e061d1d2d6625004e560f36")
  ) _bn00 (
    .RDATA(insn0[1:0]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[1:0]));

  RAM2048x2 #(
    .INITVAL_0("0xcaeb828a8d0928a91b1a1c04aca1819893473aab008590183fca1a13848c9301"),
    .INITVAL_1("0x9a5b928ea16937f042a284a801fd02afa52808e8366baca221ebf237116a4898"),
    .INITVAL_2("0x4d102311820b88a084e6006617b013a755a3802088209bebc8c80427a4dea0a5"),
    .INITVAL_3("0x83bf80c2edcfc0130eb5db4a1b3bd07489c1f67649a0033371349c00eecb1675"),
    .INITVAL_4("0x48ca6038a3a30850fafa5168100068e81161805048f01113a8c8831d8c48ce42"),
    .INITVAL_5("0x085a42990000e1f932e24919f89a7302d3c1606079792060302801b3685ae35b"),
    .INITVAL_6("0x022002011171420280911010e22b202021a922a248c8200aa8a9116889811830"),
    .INITVAL_7("0x2011c1e01961618168300839100070717070da710a1121a111295848c8290141"),
    .INITVAL_8("0xc8088a8a026280c19a918ac28b83f098c1d3b89982bb500081118a0a310000d1"),
    .INITVAL_9("0x545444e49c9001809c187c1c0060e8ac29210286840896e550338004111d29c7"),
    .INITVAL_A("0x245f0621724b61717e4f635f2337c747c846d26b761e083a6a36262f02670d39"),
    .INITVAL_B("0x740a642406640119511977236c3e452648188346c054e81c0005114509534667"),
    .INITVAL_C("0x1d49bf9d23bdb622099db428831d2595c04bd79e499b0bb5f223403c64b52204"),
    .INITVAL_D("0xa03a546021011b19c24b0e1e451503011394a44411f08058a3a421d58c0540cc"),
    .INITVAL_E("0x161e09180d5d4b0d04352c699b92050186068f40da9aecf4ba08cc8ea0908119"),
    .INITVAL_F("0x131b101040480319060048184545406412707818111d491d686e1424434b1918")
  ) _bn01 (
    .RDATA(insn0[3:2]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[3:2]));

  RAM2048x2 #(
    .INITVAL_0("0x20048a20004009a5111013e308988a10d020836c01410920d181127400300ea1"),
    .INITVAL_1("0xc8942e776010dd0428480560c61e89280d04e90184108b0bc2a84705f90ccf3d"),
    .INITVAL_2("0x908804b0e5761a26c22e04c887bc809a47063024690d08d22aba879a55202390"),
    .INITVAL_3("0xe4260a62f314c9209a9ec1f602105420a95f74a0fd1d36b57140af87c9382e48"),
    .INITVAL_4("0x0820b001380830617082014220a2b058a10be02a00208298302aabb5cca00803"),
    .INITVAL_5("0x01a1c008806098721221d189120a206942ea30582379608a79c19a0a8248ab29"),
    .INITVAL_6("0x3258023870c802f2110a017b4a620071da7a8038094b0b98080271120ab27311"),
    .INITVAL_7("0xa00079180800205968c1294a6039330371011040634300413a431079630841a0"),
    .INITVAL_8("0x80c700716901c100f05299088042e870ab08e912d25039592a2b988b99c83903"),
    .INITVAL_9("0x09699873843059028600211800288ceba4a900039597132a225cb47f8c960a39"),
    .INITVAL_A("0x391c5542710a054c60885804246c347923c95b8823e1012045876c4028920896"),
    .INITVAL_B("0x23100890072612521808f7e362a04575465b2120589834e305204071e6932241"),
    .INITVAL_C("0x1e84b8a0a0809c3c2c341cc99d64270e0a2e2300604422c0b80a3c28ac884a03"),
    .INITVAL_D("0x8280435d5110931a285c0a260004208ca4bbf0105849e8abd701ad92e4482101"),
    .INITVAL_E("0x0446306c5c040b14394a485422960074034acf5012438845a1ec123010317421"),
    .INITVAL_F("0x0a34002c002d10440818332f2854656340104a790a04130e085c131100580b7a")
  ) _bn02 (
    .RDATA(insn0[5:4]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[5:4]));

  RAM2048x2 #(
    .INITVAL_0("0xca00108bc140808b8211080388081090038040c2000190098281486204008b8b"),
    .INITVAL_1("0x369c757da1202a260a68ad105f1c2a01a00d02890684448f09ca7043084140c3"),
    .INITVAL_2("0x6c0511122220200224260044608403803406842481213b587032a0a780050a23"),
    .INITVAL_3("0x634098ca1cd350c19aa00b820902301002d0a25440d7a116a831b0a31611186a"),
    .INITVAL_4("0x20286031ab3808f00070200810a13838500020a07008410098087434848883cb"),
    .INITVAL_5("0x0081524a114301d2001040d0e81a0380283932302028006040e1610a082a108a"),
    .INITVAL_6("0x1012000109d81040801310810040000053da42800003b0abb00a11c1011a0843"),
    .INITVAL_7("0x102099701100600060a010004020403900f162104801310000180080084a0013"),
    .INITVAL_8("0xef809a000221088158903298498050a840a910a940d269393b28328000914031"),
    .INITVAL_9("0x342834b810945030bf00b4402c204104098420002095a423dc1810b731941120"),
    .INITVAL_A("0x9ca060940a5178014640663013441a3490239042f4232c219847522c8129b514"),
    .INITVAL_B("0x54632c08676c1300411821707c027964501222019c48e8171124401018764522"),
    .INITVAL_C("0x45dca7fa77a72ea87d57e0f806333201c082d54729009b224ffb003cd36f3218"),
    .INITVAL_D("0xb8801849b091288f6ac02722110069400bab04b0095908e0a0d5309d48866800"),
    .INITVAL_E("0x10040c05010044490409446c82220d0c868a47c79ad3002018098e9221b161f0"),
    .INITVAL_F("0x0d0e10000f0f03020808092a0d2c4220020269681d0e0c0e2c0c020363480808")
  ) _bn03 (
    .RDATA(insn0[7:6]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[7:6]));

  RAM2048x2 #(
    .INITVAL_0("0x17300020baf8f020355460204e62707c0a22a869bc53e06500a3024148088b23"),
    .INITVAL_1("0x8302b0dcadaa00e05419101019940e828c830579060d18943ea14ac00d224060"),
    .INITVAL_2("0xa2f59c6ad4a35044b0a2c29a185b11d14080406598aedd9289d800c24226c5d5"),
    .INITVAL_3("0x2f4040a001154c481de7d01749c19096482a0406487d095b64b650f680a165a8"),
    .INITVAL_4("0x9808ab2800e84213a3e2594a48b26278234a88ea8b4801aa113394bc14e450a3"),
    .INITVAL_5("0x01a16a482962e13b2831c86822994138d088e8f8d878008a23e82022604280aa"),
    .INITVAL_6("0x89fa4179412a0a222888202960383b3b2a78203060c3a00a19d8592888a142a0"),
    .INITVAL_7("0xcae0ab3b8080212960a12003d25122b009111a3bb161105909eb4869522b1872"),
    .INITVAL_8("0x88be488a10d09ac9d19198b88283c081a88ae1caabc8293b023b10134280c183"),
    .INITVAL_9("0x4248687335f05612604a8a883b3b2a225c9dfecb505028ab91ba001c301c8406"),
    .INITVAL_A("0x908344038132091e697a402b000a495fe8ec8aa782822062c9895510a68ab8d3"),
    .INITVAL_B("0x00660617e4371006288c603004e722727c1a032ab28b80a3045041991b1f2802"),
    .INITVAL_C("0xe2240026243af46b18bc1d69c49a407b988164332022080bb0ca1c9cb4ea8c96"),
    .INITVAL_D("0x55c41888029202497b12c1e40c2ea8f5989e966220bcad0350401c71e0652326"),
    .INITVAL_E("0x4342411503522179023e4719d9fd4e5220c4643214bc0000090d049337465031"),
    .INITVAL_F("0x181c56752b0f2172455d091d4a6b5226345b79194c4b0c1a6f7a4f0d15561c5c")
  ) _bn04 (
    .RDATA(insn0[9:8]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[9:8]));

  RAM2048x2 #(
    .INITVAL_0("0x00920402222222d01013214003a3226080882892001922c10023000102000093"),
    .INITVAL_1("0x03ab08a000032a00066412ba020000330b0a1e04049600c82050408282414390"),
    .INITVAL_2("0x22eaa28000c000651082124212608005006080720210a061a041002400f58259"),
    .INITVAL_3("0x024a0a5001404113062002c2045d02a012e000e444a000b416c4224100a12060"),
    .INITVAL_4("0x083a82003b120242b33160b0a08840002311080000308019002104c415073a48"),
    .INITVAL_5("0x8183421120082151a008e812321112628020480070800018a0a221426000003a"),
    .INITVAL_6("0x080000400243021008102011305320082200a0c0e001a11918090040881000c0"),
    .INITVAL_7("0xa07108000030234080c020108200223021631b71304000020312481212400001"),
    .INITVAL_8("0x8060c858a002229133fb00a102c800d2008020ba0280384242500020c2502070"),
    .INITVAL_9("0x602a400426068ecc808428b20316224180424250b0f4080100c400056060a0b0"),
    .INITVAL_A("0x00a6227220f40045003800d50010452064b802d622e2000e06d310400a9d088c"),
    .INITVAL_B("0x23240b0916470420042820700a7802d00b62012301e502eb1808055023660240"),
    .INITVAL_C("0x92fe2838001088b800a091b90080016000911241000a029232b6001800880194"),
    .INITVAL_D("0x046c0010042522232060004104109808908094900490a1b5081c0c2cc4d10089"),
    .INITVAL_E("0x6220000b212000080b05084a50c1480810100040000800000014081800010040"),
    .INITVAL_F("0x1141055102230020014000054020227230203061014200006020024b11241000")
  ) _bn05 (
    .RDATA(insn0[11:10]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[11:10]));

  RAM2048x2 #(
    .INITVAL_0("0x7f013602330174406f10e10053006c04ab08bf00fb88f5852b008702fe02b000"),
    .INITVAL_1("0x2b0428005b0bc00857114216810193012f067d01ab80b088b703aa02a3803100"),
    .INITVAL_2("0xb220e9005700c5009a009a801404cf05ca86eb813c10a701a9005e045707d500"),
    .INITVAL_3("0x0b0022080f02270065006e00cd000600040007011e005f05560051151300b303"),
    .INITVAL_4("0xdb118880d3089300bb01f200fa08c2000b01cb818a00ab808300080073017800"),
    .INITVAL_5("0xab00a1002808f980b988ba80b1019a009000c800d800bb21aa00b3006200ca00"),
    .INITVAL_6("0xe90178406300a800a800eb016b117a0a2900ba00e100ab80e910ba00a108e200"),
    .INITVAL_7("0xeb89a208a1003b00c100c3008b00f200bb083128b0107b00e302eb003110f901"),
    .INITVAL_8("0x9184d900f222730161110200030053022b212b0b2b09b28a51001300ca00e380"),
    .INITVAL_9("0x7f024b08ef08c60ceaa43e0013003200df04ffa0e2c48d0123014c00efa0a784"),
    .INITVAL_A("0xa3203500b70533059501c800898065206400330426004303250137353e206b24"),
    .INITVAL_B("0xab0fb708d4046500a500b020df129300a9801b00230022005e04bd00a3062e20"),
    .INITVAL_C("0xf98cbd101810d3088300b1825a007940f5015600070041003200b526bf24bd2c"),
    .INITVAL_D("0x571090000700c1216700c4002f0295089680f710b500f7c4fc006708d501d600"),
    .INITVAL_E("0x73015200730039015f005b005c007308740075000c00030245013f0056105100"),
    .INITVAL_F("0x71007f002000750055001400730035107d007800530012007b034c4017007e00")
  ) _bn06 (
    .RDATA(insn0[13:12]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[13:12]));

  RAM2048x2 #(
    .INITVAL_0("0x807b50b604f300fc906f04b98057006c44bb00ef00ff1075441b00ff00f64429"),
    .INITVAL_1("0x40bb00d800df20c000b2a8c000e960bf50b9007900eb40f000f754aa007b4429"),
    .INITVAL_2("0x085600dd081320dd413f00bb207c00ef20ba006a403400bf04d100de802f08dd"),
    .INITVAL_3("0x807b15b2807ed02700dd00be00ef69b61084886640b6807d08b220d9402b00bb"),
    .INITVAL_4("0x00fa006820d3009300fa00f200ca01ca304a00fa30d2007b00db407800f200b8"),
    .INITVAL_5("0x00fb50f1106800bb00f9407a00d9009a00ea01ea20d200ba00fa409b015a10da"),
    .INITVAL_6("0x00eb807800bb11e840b810eb803b806a002141ba10e1500900fb00aa40a100b2"),
    .INITVAL_7("0x106300f212e1c05b0299b05b00db00f000b3c03000c0806b00e100fb806900e9"),
    .INITVAL_8("0x405a20cb08f200f1188000d278d3008300fb10fb00e840928051600b20ca00b3"),
    .INITVAL_9("0x905f044b20ff00931069004e8452707a00d700ff104a00df64fa004e00df0047"),
    .INITVAL_A("0x047b08b500dfc03b08e604aa20db807f18e500eb409d8c5b30fd802600ee00eb"),
    .INITVAL_B("0x804b40b70490807d0aad20b4009f04ea20ad906b04ff4882827c02ad00e9d02f"),
    .INITVAL_C("0x001900dd401a20c740a60a55007c00df006d00ba08ff90dd04fe4ab5007c40af"),
    .INITVAL_D("0x28df44a068a704f9001f02d4d03f02f5401408e702bc005f00e6004700b518e6"),
    .INITVAL_E("0x047a285e0077007f205f003f225c807702f4803822cdc43bb25d40bd88768619"),
    .INITVAL_F("0x007d007e5004087d2258401c007f087d007c0610005f401e0076007828770076")
  ) _bn07 (
    .RDATA(insn0[15:14]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & !mem_addr[12] & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[15:14]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn10 (
    .RDATA(insn1[1:0]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[1:0]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn11 (
    .RDATA(insn1[3:2]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[3:2]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn12 (
    .RDATA(insn1[5:4]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[5:4]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn13 (
    .RDATA(insn1[7:6]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[7:6]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn14 (
    .RDATA(insn1[9:8]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[9:8]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn15 (
    .RDATA(insn1[11:10]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[11:10]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn16 (
    .RDATA(insn1[13:12]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[13:12]));

  RAM2048x2 #(
    .INITVAL_0("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_1("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_2("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_3("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_4("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_5("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_6("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_7("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_8("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_9("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_A("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_B("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_C("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_D("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_E("0x0000000000000000000000000000000000000000000000000000000000000000"),
    .INITVAL_F("0x0000000000000000000000000000000000000000000000000000000000000000")
  ) _bn17 (
    .RDATA(insn1[15:14]),
    .RADDR(code_addr[10:0]),
    .RCLK(clk), .RCLKE(1'b1), .RE(1'b1),
    .WCLK(clk), .WCLKE(unlocked), .WE(mem_wr & mem_addr[12]  & !mem_addr[13]),
    .WADDR(mem_addr[11:1]),
    .MASK(16'h0000), .WDATA(dout[15:14]));
    
    // ############################## END of 8K ###################################

    reg c11, c12;
    always @(posedge clk)
    begin
      {c12, c11} <= {code_addr[12], code_addr[11]};
    end

    always @*
    begin
      casez ({c12, c11}) // Depending on memory address, select different RAM blocks.
      2'b00: insn = insn0;
      2'b01: insn = insn1;
      2'b10: insn = 16'h0000; // JMP $0000, Reset.
      2'b11: insn = 16'h0000; // JMP $0000, Reset.
      endcase
    end
